<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
	<title>流程设计1111</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

	<link rel="stylesheet" href="css/designer.css" type="text/css" media="all" />

	<script src="js/raphael-min.js" type="text/javascript"></script>
	<script src="js/jquery-ui-1.8.4.custom/js/jquery.min.js" type="text/javascript"></script>
	<script src="js/jquery-ui-1.8.4.custom/js/jquery-ui.min.js" type="text/javascript"></script>

	<script src="js/designer/designer.js" type="text/javascript"></script>
	<script src="js/designer/model.js" type="text/javascript"></script>
	<script src="js/designer/editors.js" type="text/javascript"></script>

	<script type="text/javascript">
			$(function() {
				var json = "";
				var model;
				if (json) {
					//json.replace(new RegExp("@@","gm"), "\"")
					model = eval("(" + json + ")");
				} else {
					model = "";
				}
				$('#flow').flow({
					basePath: "js/designer/",
					restore: model,
					tools: {
						save: {
							onclick: function(data) {

								console.log(data);
							}
						}
					}
				});

				$("#properties_handle div").click(function(){
					$("#properties_handle div").removeClass("active");
					$(this).addClass("active");
					$(".properties_all").hide();
					$(".properties_all[type="+$(this).attr("type")+"]").show();
					// if($(this).attr("type") == "property"){

					// }else if($(this).attr("type") == "field"){

					// }
				});
			});
	</script>		
</head>
<body>
	<div id="menu">
		<input type="button" value="保存" id="save" />	
		<input type="button" value="导入" />	
		<input type="button" value="导出" />	
		<input type="button" value="保存退出" />	
		<input type="button" value="删除" />	
		<input type="button" value="流程检测" />	
	</div>
	<div id="toolbox">
		<div id="toolbox_handle">工具集</div>
		<div class="node selectable" id="pointer">
			<img src="js/designer/images/select16.gif" />	
			&nbsp;&nbsp;Select
		</div>
		<div class="node selectable" id="path">
			<img src="js/designer/images/16/flow_sequence.png" />	
			&nbsp;&nbsp;transition
		</div>
		<div>
			<hr/>	
		</div>
		<div class="node state" id="start" type="start">
			<img
	src="js/designer/images/16/start_event_empty.png" />	
			&nbsp;&nbsp;开始节点
		</div>

		<div class="node state" id="end" type="end">
			<img
	src="js/designer/images/16/end_event_terminate.png" />	
			&nbsp;&nbsp;结束节点
		</div>
		<div class="node state" id="task" type="task">
			<img
	src="js/designer/images/16/task_empty.png" />	
			&nbsp;&nbsp;任务节点
		</div>
		<div class="node state" id="notify" type="notify">
			<img
	src="js/designer/images/16/task_empty.png" />	
			&nbsp;&nbsp;知会节点
		</div>
	</div>

	<div id="properties">
		<div id="properties_handle">
			<div style="float:left;" id="property" class="active" type="property">属性</div>
			<div style="float:left;" id="field" type="field">字段权限</div>
			<div style="clear:both;"></div>
		</div>
		<table class="properties_all" cellpadding="0" cellspacing="0" type="property"></table>
		<table class="properties_all" cellpadding="0" cellspacing="0" type="field" style="display:none"></table>
		<div>&nbsp;</div>
	</div>

	<div id="flow"></div>
</body>
</html>